<!DOCTYPE html>
<ui:composition template="/WEB-INF/template/layout.xhtml"
		xmlns="http://www.w3.org/1999/xhtml"
		xmlns:ui="http://java.sun.com/jsf/facelets"
		xmlns:f="http://java.sun.com/jsf/core"
		xmlns:h="http://java.sun.com/jsf/html"
		xmlns:p="http://primefaces.org/ui"
		xmlns:stella="http://stella.caelum.com.br/faces2">
		
	<ui:define name="titulo">Gerar Orçamentos</ui:define>
	
	
	<ui:define name="corpo">
	
      <div class="jumbotron" style="margin-top: 15px;">
	       	<div class="row">
	       		<h3> <i class="fa fa-building fa-1x"></i> Informe o Nome do Anúncio </h3>
	       		<p:separator />
	       		<p:spacer />
	       		
				<h:form prependId="false" id="forGeraOrcamento">
					<div class="col-lg-10">
						 
							<div class="form-group">
								<p:inputText styleClass="form-control input-lg" placeholder="informe o nome..." required="true" id="nomePesquisa"/>
							</div>						
							
					</div>
					
					<div class="col-lg-2">
						<h:commandButton value="Pesquisar" styleClass="btn btn-lg btn-primary btn-block" />
					</div>
				</h:form>
	       	</div>
	       	
	       	<p:separator />
	       	<p:spacer />
	       	
			<div class="row">
			
				
				<ui:repeat var="anuncio" value="#{orcamentoMB.listAnuncios}">
					<div class="col-md-4 well" style="margin-top: 10px;">
					
						<h:form id="formAnuncios#{anuncio.id}" prependId="false">
						
							<p:graphicImage value="#{imagemMB.anuncioImagem}" width="283" height="140" styleClass="img-retangle" >
				        		<f:param name="idAnuncio" value="#{anuncio.id}"/>
				        	</p:graphicImage>
				        	
				        	<h4> <h:outputText value="#{anuncio.nome}" style="font-weight: bold;"/> </h4>
				        	<p:separator />
				        	
				        	<h:outputText value="#{anuncio.descricao}"/>
				        	
				        	<p:spacer />
				        	<br />
			        		<label for="valorAnuncio">Valor: </label>
				        	<h:outputText value="#{anuncio.valor}" id="valorAnuncio" style="font-weight: bold; color: red;"> 
				            	<f:convertNumber locale="pt_BR" maxFractionDigits="2" minFractionDigits="2" />
				            </h:outputText>
				        	
				        	<p:separator />
				        	<h:commandButton styleClass="btn btn-sm btn-success" value="Adicionar" actionListener="#{orcamentoMB.adicionarAnuncio}">
				        		<f:ajax render=":labelCountAnuncios" execute="@form"/>
				        		<f:param name="idAnuncio" value="#{anuncio.id}"/>
				        	</h:commandButton> 
				        	
						</h:form>
						
						
					</div>
				</ui:repeat>
			
			</div>	       	
        
      </div>
		
	</ui:define>		


</ui:composition>